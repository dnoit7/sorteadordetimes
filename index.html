<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sorteador de Times</title>

<style>
/* =========================================
   TEMAS (CLARO / ESCURO)
========================================= */
:root {
    --bg-color: #ffffff;
    --text-color: #222;
    --card-color: #f4f4f4;
    --input-bg: #fff;
    --button-bg: #007bff;
    --button-text: #ffffff;
    --border-color: #ccc;
}

.dark-theme {
    --bg-color: #121212;
    --text-color: #e6e6e6;
    --card-color: #1e1e1e;
    --input-bg: #2a2a2a;
    --button-bg: #444;
    --button-text: #fff;
    --border-color: #555;
}

/* =========================================
   ESTILO GLOBAL
========================================= */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background: var(--bg-color);
    color: var(--text-color);
    transition: 0.3s;
}

/* Container responsivo */
.container {
    max-width: 600px;
    margin: auto;
    background: var(--card-color);
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

/* Inputs e selects */
input, select {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background: var(--input-bg);
    color: var(--text-color);
    margin-bottom: 10px;
}

/* Bot√µes */
button {
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 8px;
    background: var(--button-bg);
    color: var(--button-text);
    font-size: 16px;
    cursor: pointer;
    margin-top: 8px;
}

button:hover {
    opacity: 0.9;
}

/* Lista de jogadores */
.player-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--input-bg);
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 6px;
}

.delete-btn {
    background: none;
    border: none;
    font-size: 22px;
    cursor: pointer;
}

/* Tema - bot√£o flutuante */
.theme-btn {
    position: fixed;
    top: 15px;
    right: 15px;
    font-size: 28px;
    background: none;
    border: none;
    cursor: pointer;
}

/* Mobile responsivo */
@media (max-width: 480px) {
    .container {
        padding: 15px;
    }
    button {
        font-size: 15px;
        padding: 10px;
    }
}
</style>
</head>
<body>

<!-- BOT√ÉO DE ALTERAR TEMA -->
<button id="themeToggle" class="theme-btn">üåô</button>

<div class="container">
    <h2>Sorteador de Times</h2>

    <input type="text" id="playerName" placeholder="Nome do jogador">
    <select id="playerLevel">
        <option value="A">N√≠vel A</option>
        <option value="B">N√≠vel B</option>
        <option value="C">N√≠vel C</option>
        <option value="D">N√≠vel D</option>
    </select>

    <button onclick="addPlayer()">Adicionar Jogador</button>
    <button onclick="clearList()" style="background:#d9534f;">üóëÔ∏è Limpar Lista</button>

    <h3>Jogadores</h3>
    <div id="playerList"></div>

    <button onclick="generateTeams()">Gerar Times</button>
    <button onclick="copyTeams()">üì≤ Copiar para WhatsApp</button>

    <h3>Times Gerados</h3>
    <div id="teamsResult"></div>
</div>

<script>
let players = [];

/* ============================
   Alternar Tema
============================ */
const themeToggle = document.getElementById("themeToggle");

themeToggle.addEventListener("click", () => {
    document.body.classList.toggle("dark-theme");

    if (document.body.classList.contains("dark-theme")) {
        themeToggle.textContent = "‚òÄÔ∏è";
    } else {
        themeToggle.textContent = "üåô";
    }
});

/* ============================
   Limpar emojis automaticamente
============================ */
function removeEmoji(text) {
    return text.replace(/[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu, "");
}

/* ============================
   Adicionar jogador
============================ */
function addPlayer() {
    const name = removeEmoji(document.getElementById("playerName").value.trim());
    const level = document.getElementById("playerLevel").value;

    if (name === "") return;

    players.push({ name, level });
    document.getElementById("playerName").value = "";
    renderPlayers();
}

/* ============================
   Renderizar lista de jogadores
============================ */
function renderPlayers() {
    const list = document.getElementById("playerList");
    list.innerHTML = "";

    players.forEach((p, index) => {
        list.innerHTML += `
            <div class="player-row">
                <span>${p.name} ‚Äî <b>${p.level}</b></span>
                <button class="delete-btn" onclick="deletePlayer(${index})">üóëÔ∏è</button>
            </div>
        `;
    });
}

function deletePlayer(i) {
    players.splice(i, 1);
    renderPlayers();
}

/* ============================
   Limpar lista
============================ */
function clearList() {
    if (confirm("Deseja realmente apagar todos os jogadores?")) {
        players = [];
        renderPlayers();
    }
}

/* ============================
   Gerar times equilibrados
============================ */
function generateTeams() {
    const team1 = [];
    const team2 = [];

    const groups = {
        A: players.filter(p => p.level === "A"),
        B: players.filter(p => p.level === "B"),
        C: players.filter(p => p.level === "C"),
        D: players.filter(p => p.level === "D")
    };

    for (let g in groups) {
        groups[g].sort(() => Math.random() - 0.5);

        groups[g].forEach((p, i) => {
            if (i % 2 === 0) team1.push(p);
            else team2.push(p);
        });
    }

    document.getElementById("teamsResult").innerHTML =
        `<p><b>‚öΩ Time 1:</b><br>${team1.map(p => p.name).join("<br>")}</p>
         <p><b>‚öΩ Time 2:</b><br>${team2.map(p => p.name).join("<br>")}</p>`;
}

/* ============================
   Copiar para WhatsApp (sem n√≠veis)
============================ */
function copyTeams() {
    const text = document.getElementById("teamsResult").innerText;
    navigator.clipboard.writeText(text);
    alert("Times copiados! Agora cole no WhatsApp.");
}
</script>

</body>
</html>
